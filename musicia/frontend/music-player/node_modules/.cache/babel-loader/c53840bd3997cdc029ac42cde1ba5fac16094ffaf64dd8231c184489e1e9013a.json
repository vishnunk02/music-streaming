{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport './liked.css';\nfunction Liked() {\n  _s();\n  const [liked, setSongs] = useState([]);\n  const fetchLikeddata = async () => {\n    try {\n      let header = new Headers();\n      header.append(\"Content-type\", 'application/json');\n      let token = localStorage.getItem('token');\n      if (token) {\n        header.append('Authorization', token);\n      }\n      const requestOptions = {\n        method: 'GET',\n        headers: header\n      };\n      const response = await fetch(`http://localhost:8000/like/listlikedsong/`, requestOptions);\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const data = await response.json();\n      setSongs(data);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  useEffect(() => {\n    fetchLikeddata();\n  }, []);\n  function handleLoadedMetadata(e, index) {\n    const audio = e.target;\n    const duration = audio.duration;\n    const durationCell = document.getElementById(`duration-${index}`);\n    durationCell.textContent = formatDuration(duration);\n  }\n  function formatDuration(duration) {\n    const minutes = Math.floor(duration / 60);\n    const seconds = Math.floor(duration % 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n  }\n  const [hoveredIndex, setHoveredIndex] = useState(null);\n  const handleMouseEnter = index => {\n    setHoveredIndex(index);\n  };\n  const handleMouseLeave = () => {\n    setHoveredIndex(null);\n  };\n  const fetchDataDetail = id => {\n    console.log(id);\n    setId(id);\n    props.sendData(id);\n  };\n}\n_s(Liked, \"nV0dFsIhX6SUzgRHz/GLXc/l2aw=\");\n_c = Liked;\nexport default Liked;\nvar _c;\n$RefreshReg$(_c, \"Liked\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Liked","_s","liked","setSongs","fetchLikeddata","header","Headers","append","token","localStorage","getItem","requestOptions","method","headers","response","fetch","ok","Error","data","json","error","console","handleLoadedMetadata","e","index","audio","target","duration","durationCell","document","getElementById","textContent","formatDuration","minutes","Math","floor","seconds","hoveredIndex","setHoveredIndex","handleMouseEnter","handleMouseLeave","fetchDataDetail","id","log","setId","props","sendData","_c","$RefreshReg$"],"sources":["C:/Users/HP/Documents/reactproject/frontend/music-player/src/components/liked/liked.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport './liked.css'\r\n\r\n\r\nfunction Liked () {\r\n\r\n    const [liked, setSongs] = useState([]);\r\n\r\n\r\n    const fetchLikeddata = async () => {\r\n        try {\r\n            let header = new Headers();\r\n            header.append(\"Content-type\", 'application/json');\r\n            let token = localStorage.getItem('token');\r\n            if (token) {\r\n                header.append('Authorization', token);\r\n            }\r\n            const requestOptions = {\r\n                method: 'GET',\r\n                headers: header\r\n            };\r\n            const response = await fetch(`http://localhost:8000/like/listlikedsong/`, requestOptions);\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n            const data = await response.json();\r\n            setSongs(data);\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchLikeddata();\r\n    }, []);\r\n\r\n\r\n    function handleLoadedMetadata(e, index) {\r\n        const audio = e.target;\r\n        const duration = audio.duration;\r\n        const durationCell = document.getElementById(`duration-${index}`);\r\n        durationCell.textContent = formatDuration(duration);\r\n    }\r\n\r\n    function formatDuration(duration) {\r\n        const minutes = Math.floor(duration / 60);\r\n        const seconds = Math.floor(duration % 60);\r\n        return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\r\n    }\r\n\r\n    const [hoveredIndex, setHoveredIndex] = useState(null);\r\n\r\n    const handleMouseEnter = (index) => {\r\n        setHoveredIndex(index);\r\n    };\r\n\r\n    const handleMouseLeave = () => {\r\n        setHoveredIndex(null);\r\n    };\r\n\r\n\r\n    const fetchDataDetail = (id) => {\r\n        console.log(id);\r\n        setId(id);\r\n        props.sendData(id);\r\n    }\r\n\r\n}\r\n\r\nexport default Liked"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAO,aAAa;AAGpB,SAASC,KAAKA,CAAA,EAAI;EAAAC,EAAA;EAEd,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAGtC,MAAMO,cAAc,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACA,IAAIC,MAAM,GAAG,IAAIC,OAAO,CAAC,CAAC;MAC1BD,MAAM,CAACE,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC;MACjD,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACzC,IAAIF,KAAK,EAAE;QACPH,MAAM,CAACE,MAAM,CAAC,eAAe,EAAEC,KAAK,CAAC;MACzC;MACA,MAAMG,cAAc,GAAG;QACnBC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAER;MACb,CAAC;MACD,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAE,2CAA0C,EAAEJ,cAAc,CAAC;MACzF,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;MAClD;MACA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClChB,QAAQ,CAACe,IAAI,CAAC;IAClB,CAAC,CAAC,OAAOE,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAClC;EACJ,CAAC;EAEDtB,SAAS,CAAC,MAAM;IACZM,cAAc,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAGN,SAASkB,oBAAoBA,CAACC,CAAC,EAAEC,KAAK,EAAE;IACpC,MAAMC,KAAK,GAAGF,CAAC,CAACG,MAAM;IACtB,MAAMC,QAAQ,GAAGF,KAAK,CAACE,QAAQ;IAC/B,MAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAAE,YAAWN,KAAM,EAAC,CAAC;IACjEI,YAAY,CAACG,WAAW,GAAGC,cAAc,CAACL,QAAQ,CAAC;EACvD;EAEA,SAASK,cAAcA,CAACL,QAAQ,EAAE;IAC9B,MAAMM,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACR,QAAQ,GAAG,EAAE,CAAC;IACzC,MAAMS,OAAO,GAAGF,IAAI,CAACC,KAAK,CAACR,QAAQ,GAAG,EAAE,CAAC;IACzC,OAAQ,GAAEM,OAAQ,IAAGG,OAAO,GAAG,EAAE,GAAG,GAAG,GAAG,EAAG,GAAEA,OAAQ,EAAC;EAC5D;EAEA,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EAEtD,MAAM0C,gBAAgB,GAAIf,KAAK,IAAK;IAChCc,eAAe,CAACd,KAAK,CAAC;EAC1B,CAAC;EAED,MAAMgB,gBAAgB,GAAGA,CAAA,KAAM;IAC3BF,eAAe,CAAC,IAAI,CAAC;EACzB,CAAC;EAGD,MAAMG,eAAe,GAAIC,EAAE,IAAK;IAC5BrB,OAAO,CAACsB,GAAG,CAACD,EAAE,CAAC;IACfE,KAAK,CAACF,EAAE,CAAC;IACTG,KAAK,CAACC,QAAQ,CAACJ,EAAE,CAAC;EACtB,CAAC;AAEL;AAACzC,EAAA,CA/DQD,KAAK;AAAA+C,EAAA,GAAL/C,KAAK;AAiEd,eAAeA,KAAK;AAAA,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}